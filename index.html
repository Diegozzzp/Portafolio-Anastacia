<!doctype html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Anastacia — Fotógrafa Profesional</title>
    <meta name="description" content="Fotógrafa profesional especializada en retratos, bodas y sesiones editoriales. Capturando momentos únicos con autenticidad y belleza." />
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg" />
    <meta name="theme-color" content="#0a0a0a" />
    <!-- Open Graph / Twitter -->
    <meta property="og:title" content="Anastacia — Fotógrafa Profesional" />
    <meta property="og:description" content="Fotografía elegante y atemporal: retratos, bodas y editorial." />
    <meta property="og:image" content="fotos/foto-retrato.jpg" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Anastacia — Fotógrafa Profesional" />
    <meta name="twitter:description" content="Fotografía elegante y atemporal: retratos, bodas y editorial." />
    <meta name="twitter:image" content="fotos/foto-retrato.jpg" />

    <!-- Preload primera imagen del hero para mejorar LCP -->
    <link rel="preload" as="image" href="fotos/foto-retrato.jpg" imagesrcset="fotos/foto-retrato.jpg" />

    <!-- Modo oscuro persistente (evita FOUC) -->
    <script>
        (function() {
            try {
                const saved = localStorage.getItem('theme');
                const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                if (saved === 'dark' || (!saved && prefersDark)) {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            } catch (e) {}
        })();
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet" />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                        'serif': ['Playfair Display', 'serif'],
                    },
                    colors: {
                        brand: {
                            50: '#fff7ed',
                            100: '#ffedd5',
                            200: '#fed7aa',
                            300: '#fdba74',
                            400: '#fb923c',
                            500: '#f97316',
                            600: '#ea580c',
                            700: '#c2410c',
                            800: '#9a3412',
                            900: '#7c2d12',
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.8s ease-out',
                        'slide-up': 'slideUp 0.8s ease-out',
                        'scale-in': 'scaleIn 0.6s ease-out',
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(30px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        scaleIn: {
                            '0%': { opacity: '0', transform: 'scale(0.95)' },
                            '100%': { opacity: '1', transform: 'scale(1)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>

    <!-- Extra CSS (animaciones y microinteracciones) -->
    <link rel="stylesheet" href="assets/css/tailwind-extras.css" />

    <!-- Custom CSS -->
    <style>
        /* Smooth transitions */
        * {
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, transform;
            transition-duration: 200ms;
            transition-timing-function: ease;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #fb923c;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #f97316;
        }

        /* Glassmorphism effect */
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .dark .glass {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Text gradient */
        .text-gradient {
            background: linear-gradient(135deg, #f97316, #fb923c, #fdba74);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Smooth reveal animation */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Carousel image optimization */
        .carousel-image {
            object-fit: cover;
            object-position: center;
            image-rendering: high-quality;
            image-rendering: -webkit-optimize-contrast;
        }

        /* Beautiful hover effects */
        .hover-lift {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .hover-lift:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }

        /* Floating elements */
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        .floating:nth-child(2) {
            animation-delay: 2s;
        }
        .floating:nth-child(3) {
            animation-delay: 4s;
        }
    </style>
</head>

<body class="bg-neutral-50 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 antialiased overflow-x-hidden">
    <a href="#projects" class="sr-only focus:not-sr-only focus:fixed focus:top-4 focus:left-4 focus:z-[100] bg-black text-white dark:bg-white dark:text-black px-3 py-2 rounded">Saltar al contenido</a>
    
    <!-- Album creativo de fotografías (landing) -->
    <section id="album" class="relative w-full pt-28 pb-12 bg-white dark:bg-neutral-950">
        <div class="max-w-7xl mx-auto px-6">
            <!-- Encabezado minimal: nombre y botón Sobre mí -->
            <div class="flex items-center justify-between mb-6">
                <div class="font-serif text-2xl md:text-3xl font-semibold text-neutral-900 dark:text-white">Anastacia Mejías</div>
                <a href="#about" class="px-4 py-2 rounded-full border border-neutral-300 dark:border-neutral-700 text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors text-sm">Sobre mí</a>
            </div>
            <!-- Masonry grid -->
            <div id="albumGrid" class="columns-1 sm:columns-2 lg:columns-3 gap-4">
                <!-- Items renderizados por JS -->
            </div>
        </div>
    </section>

    <!-- Navigation (light style) -->
    <nav id="mainNav" class="fixed top-0 left-0 right-0 z-50 px-6 py-4 transition-all duration-300 bg-white/90 backdrop-blur border-b border-neutral-200 dark:bg-neutral-900/80 dark:border-neutral-800">
        <div class="max-w-7xl mx-auto flex items-center justify-between">
            <!-- Logo -->
            <div class="text-neutral-900 dark:text-white font-serif text-2xl font-semibold tracking-wide">Anastacia</div>
            
            <!-- Navigation Links -->
            <div class="hidden md:flex items-center space-x-8">
                <a href="#about" class="text-neutral-700 hover:text-neutral-900 dark:text-neutral-200 dark:hover:text-white transition-colors duration-300 font-medium">Sobre mí</a>
                <a href="#projects" class="text-neutral-700 hover:text-neutral-900 dark:text-neutral-200 dark:hover:text-white transition-colors duration-300 font-medium">Portafolio</a>
                <a href="#contact" class="text-neutral-700 hover:text-neutral-900 dark:text-neutral-200 dark:hover:text-white transition-colors duration-300 font-medium">Contacto</a>
            </div>

            <!-- Mobile Menu Button -->
            <div class="flex items-center gap-3">
            <button id="themeToggle" class="text-neutral-700 hover:text-neutral-900 dark:text-neutral-200 dark:hover:text-white hidden sm:inline-flex" aria-label="Alternar tema">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                </svg>
            </button>
            <button id="mobileMenuBtn" class="md:hidden text-neutral-900 dark:text-white">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobileMenu" class="md:hidden fixed top-0 left-0 right-0 bg-white/95 dark:bg-neutral-900/95 backdrop-blur-lg z-40 transform -translate-y-full transition-transform duration-300">
            <div class="px-6 py-8 space-y-6">
                <a href="#about" class="block text-neutral-900 dark:text-white text-xl font-medium">Sobre mí</a>
                <a href="#projects" class="block text-neutral-900 dark:text-white text-xl font-medium">Portafolio</a>
                <a href="#contact" class="block text-neutral-900 dark:text-white text-xl font-medium">Contacto</a>
            </div>
        </div>
    </nav>

    

    <!-- About Me Section -->
    <section id="about" class="relative z-30 bg-neutral-50 dark:bg-neutral-950 py-20 px-6">
        <div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 lg:gap-14 items-center">
            <!-- Photo & Intro -->
            <div class="lg:col-span-5 reveal">
                <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-neutral-100 text-neutral-700 dark:bg-neutral-800 dark:text-neutral-300 text-xs font-medium mb-4">
                    Sobre mí
                </div>
                <div class="relative overflow-hidden rounded-2xl shadow-2xl border border-neutral-200/70 dark:border-neutral-800 mb-5">
                    <img src="fotos/Anastacia-fotografa.jpg" alt="Retrato de la fotógrafa Anastacia Mejías" class="w-full h-auto object-contain" loading="lazy" decoding="async" />
                    <div class="pointer-events-none absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent"></div>
                </div>
            </div>

            <!-- Text Body -->
            <div class="lg:col-span-7 space-y-5 reveal">
                <h2 class="font-serif text-3xl md:text-4xl font-bold text-neutral-900 dark:text-white">
                    Anastacia Mejías
                </h2>
                <p class="text-neutral-600 dark:text-neutral-300 -mt-1">Fotógrafa de personas, historias y marcas.</p>
                <p class="text-neutral-700 dark:text-neutral-300 leading-relaxed">
                    Mi trabajo se centra en capturar la auténtica emoción y la narrativa personal detrás de cada solicitud. 
                    Mi estilo es natural, utilizando la luz como herramienta principal para crear imágenes que cuentan una historia genuina.
                </p>
                <p class="text-neutral-700 dark:text-neutral-300 leading-relaxed">
                    Para tu evento especial capturo momentos importantes, de documentación de historias, de amor, prenatal entre otros. 
                    Mi enfoque es discreto, capturando los momentos espontáneos, los detalles íntimos y la energía real de tu día.
                </p>
                <p class="text-neutral-700 dark:text-neutral-300 leading-relaxed">
                    También trabajamos contigo para crear contenido visual que atraiga a tu cliente ideal y potencie tus ventas, 
                    lo que se conoce como fotografía publicitaria o comercial.
                </p>

                <!-- Mini stats / badges -->
                <div class="flex flex-wrap gap-2 pt-2">
                    <span class="text-[11px] px-3 py-1 rounded-full bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300">Luz natural</span>
                    <span class="text-[11px] px-3 py-1 rounded-full bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300">Narrativa visual</span>
                    <span class="text-[11px] px-3 py-1 rounded-full bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300">Detalle & emoción</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="relative z-30 bg-white dark:bg-neutral-900 py-20 px-6">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-16">
                <div class="reveal">
                    <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-brand-100 text-brand-600 dark:bg-brand-900/30 dark:text-brand-400 text-sm font-medium mb-6">
                        <span class="w-2 h-2 bg-brand-500 rounded-full animate-pulse-slow"></span>
                        Mi trabajo
                    </div>
                    
                    <h2 class="font-serif text-4xl md:text-5xl font-bold mb-6 text-neutral-900 dark:text-white">
                        <span class="text-gradient">Portafolio</span>
                    </h2>
                    
                    <p class="text-xl text-neutral-600 dark:text-neutral-300 max-w-3xl mx-auto leading-relaxed">
                        Cada proyecto es una historia única. Explora mis trabajos más recientes y descubre 
                        las historias detrás de cada imagen.
                    </p>
                </div>
            </div>

            <!-- Filter Buttons -->
            <div class="flex flex-wrap justify-center gap-3 sm:gap-4 mb-10 sm:mb-12">
                <button data-filter="all" class="filter-btn active px-6 py-2.5 rounded-full text-sm font-medium border border-neutral-300 dark:border-neutral-600 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-all duration-300 hover-lift shadow-sm dark:shadow-none">
                    Todas
                </button>
                <button data-filter="retrato" class="filter-btn px-6 py-2.5 rounded-full text-sm font-medium border border-neutral-300 dark:border-neutral-600 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-all duration-300 hover-lift shadow-sm dark:shadow-none">
                    Retratos
                </button>
                <button data-filter="bodas" class="filter-btn px-6 py-2.5 rounded-full text-sm font-medium border border-neutral-300 dark:border-neutral-600 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-all duration-300 hover-lift shadow-sm dark:shadow-none">
                    Bodas
                </button>
                <button data-filter="editorial" class="filter-btn px-6 py-2.5 rounded-full text-sm font-medium border border-neutral-300 dark:border-neutral-600 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-all duration-300 hover-lift shadow-sm dark:shadow-none">
                    Editorial
                </button>
            </div>

            <!-- Gallery Grid -->
            <div id="projectsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8">
                <!-- Images will be loaded here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="relative z-30 bg-neutral-50 dark:bg-neutral-800 py-20 px-6">
        <div class="max-w-4xl mx-auto text-center">
            <div class="reveal">
                <h2 class="font-serif text-4xl md:text-5xl font-bold mb-6 text-neutral-900 dark:text-white">
                    <span class="text-gradient">Trabajemos juntos</span>
                </h2>
                
                <p class="text-xl text-neutral-600 dark:text-neutral-300 mb-12 max-w-2xl mx-auto leading-relaxed">
                    ¿Tienes un proyecto en mente? Me encantaría conocer tu historia y ayudarte a capturar 
                    esos momentos especiales que durarán para siempre.
                </p>
                
                <div class="flex flex-col sm:flex-row gap-6 justify-center">
                    <a href="mailto:anastacia@fotografa.com" 
                       class="px-8 py-4 bg-brand-500 text-white rounded-full font-medium hover:bg-brand-600 transition-all duration-300 hover-lift">
                        Enviar mensaje
                    </a>
                    <a href="tel:+1234567890" 
                       class="px-8 py-4 border border-neutral-300 dark:border-neutral-600 rounded-full font-medium hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-all duration-300 hover-lift">
                        Llamar ahora
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="relative z-30 bg-neutral-900 text-white py-12 px-6">
        <div class="max-w-7xl mx-auto text-center">
            <div class="font-serif text-2xl font-semibold mb-2">Anastacia</div>
            <p class="text-neutral-400 mb-6">Fotógrafa Profesional</p>
            <div class="flex justify-center gap-6 mb-6">
                <a href="#" aria-label="Instagram" class="text-neutral-400 hover:text-white transition-colors">
                  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M7 2h10a5 5 0 015 5v10a5 5 0 01-5 5H7a5 5 0 01-5-5V7a5 5 0 015-5zm0 2a3 3 0 00-3 3v10a3 3 0 003 3h10a3 3 0 003-3V7a3 3 0 00-3-3H7zm5 3a5 5 0 110 10 5 5 0 010-10zm0 2.2a2.8 2.8 0 100 5.6 2.8 2.8 0 000-5.6zM18 6.5a1 1 0 110 2 1 1 0 010-2z"/></svg>
                </a>
                <a href="#" aria-label="Facebook" class="text-neutral-400 hover:text-white transition-colors">
                  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M13 3h4a1 1 0 011 1v3h-3a2 2 0 00-2 2v3h4l-1 4h-3v6h-4v-6H7v-4h3V9a4 4 0 014-4z"/></svg>
                </a>
                <a href="#" aria-label="LinkedIn" class="text-neutral-400 hover:text-white transition-colors">
                  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M4.98 3.5A2.5 2.5 0 107.5 6 2.5 2.5 0 004.98 3.5zM3 8h4v12H3zm6 0h3.7v1.7h.1A4.06 4.06 0 0117.5 8c3 0 3.5 2 3.5 4.7V20h-4v-5.4c0-1.3 0-3-1.9-3s-2.2 1.4-2.2 2.9V20H9z"/></svg>
                </a>
            </div>
            <p class="text-neutral-500 text-sm">© 2024 Anastacia. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- Photo Modal -->
    <div id="photoModal" class="fixed inset-0 z-50 hidden bg-black/90 backdrop-blur-sm">
        <div class="flex items-center justify-center h-full p-4">
            <div class="relative max-w-5xl w-full">
                <button id="closeModal" aria-label="Cerrar" class="absolute top-4 right-4 z-10 text-white hover:text-neutral-200 transition-colors bg-black/60 backdrop-blur px-2 py-2 rounded-full focus:outline-none focus:ring-2 focus:ring-white/60">
                    <svg class="w-7 h-7 md:w-8 md:h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
                
                <div class="bg-white dark:bg-neutral-900 rounded-2xl overflow-hidden shadow-2xl border border-neutral-200/70 dark:border-neutral-800">
                    <img id="modalImage" src="" alt="" class="w-full h-auto max-h-[75vh] object-contain bg-black" />
                    
                    <div class="p-6">
                        <h3 id="modalTitle" class="text-xl md:text-2xl font-semibold mb-2 text-neutral-900 dark:text-white"></h3>
                        <p id="modalStory" class="text-sm md:text-base text-neutral-600 dark:text-neutral-300 leading-relaxed"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('-translate-y-full');
        });

        // Close mobile menu when clicking on links
        mobileMenu.addEventListener('click', (e) => {
            if (e.target.tagName === 'A') {
                mobileMenu.classList.add('-translate-y-full');
            }
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Reveal animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.reveal').forEach(el => {
            observer.observe(el);
        });

        // Photo modal
        const modal = document.getElementById('photoModal');
        const modalImage = document.getElementById('modalImage');
        const modalTitle = document.getElementById('modalTitle');
        const modalStory = document.getElementById('modalStory');
        const closeModal = document.getElementById('closeModal');

        function openModal(imageSrc, title, story) {
            modalImage.src = imageSrc;
            modalTitle.textContent = title;
            // Permitir saltos de línea en descripciones personalizadas
            modalStory.innerHTML = (story || '').toString().replace(/\n/g, '<br>');
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeModalFunc() {
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        closeModal.addEventListener('click', closeModalFunc);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModalFunc();
            }
        });

        // Gallery functionality
        const projectsGrid = document.getElementById('projectsGrid');
        const filterButtons = document.querySelectorAll('.filter-btn');
        let currentFilter = 'all';

        // Generar datos de fotos desde los nombres de archivo (usa todas las imágenes en /fotos)
        const photoFilenames = [
            'Anastacia-fotografa.jpg',
            'beso-embarazada-esposos.jpg',
            'casados-mirandose.jpg',
            'embarazada-esposo-mirada.jpg',
            'espuma-playa.jpg',
            'estructura-carrousel.jpg',
            'foto-retrato.jpg',
            'fotoretrato-camaraencara.jpg',
            'hamburguesa-preparando.jpg',
            'kid-retrato.jpg',
            'manos-agarranado-zapatos-bebe.jpg',
            'manos-casados-anillos.jpg',
            'marca-producto.jpg',
            'monta;a-playa.jpg',
            'pizza-cortando.jpg',
            'playa.jpg',
            'retrato.jpg',
            'desodorante-fresco.jpg',
            'bucana-ron-cerveza80.jpg',
        ];

        // Descripciones personalizadas por archivo (mostradas al hacer clic)
        const customStories = {
            'fotoretrato-camaraencara.jpg': 'El mundo a través de un 35mm',
            'beso-embarazada-esposos.jpg': 'Celebrando el milagro que está por llegar.',
            'pizza-cortando.jpg': 'Hay secretos que no se cuentan, y hay pizzas que no se comparten.',
            'casados-mirandose.jpg': 'En el umbral de su nueva vida juntos, la pareja se encuentra envuelta en una luz suave, sus miradas cruzándose como dos almas que finalmente han encontrado su hogar',
            'manos-casados-anillos.jpg': 'Este plano captura la esencia de un compromiso.\nLas manos, entrelazadas con firmeza y ternura, se convierten en el foco de una promesa sellada',
            'hamburguesa-preparando.jpg': 'La calidad y el sabor se unen en un solo bocado',
            'foto-retrato.jpg': 'Capturada en un momento de estilo urbano.\nEsta imagen presenta un retrato de moda de media distancia. La modelo irradia confianza natural bajo la luz ambiental de la calle. Su cabello rizado y voluminoso le enmarca el rostro mientras viste una combinación audaz de texturas',
            'retrato.jpg': 'Retrato publicitario vibrante y lleno de energía, diseñado para evocar frescura y alegría en torno a la marca Coca-Cola.',
            'marca-producto.jpg': 'La música, lenguaje que todos entendemos',
            'estructura-carrousel.jpg': 'Toma de ángulo picado, captura una gran rueda blanca con colores y un cielo azul claro y despejado',
            'monta;a-playa.jpg': 'Olas = Paz',
            'kid-retrato.jpg': 'Plano medio corto y vertical, captura a un pequeño niño sonriente, sus ojos oscuros miran directamente a la cámara con una chispa de felicidad y picardía.',
            'bucana-ron.jpg': 'Toma cenital (vista desde arriba) mezcla de culturas de consumo y anticipación de un momento social o de ocio al aire libre',
            'desodorante-fresco.jpg': 'Fotografía Macro, sensación de frescura, energía masculina limpia',
            'bucana-ron-cerveza80.jpg': 'Toma cenital (vista desde arriba) mezcla de culturas de consumo y anticipación de un momento social o de ocio al aire libre'
        };

        function filenameToTitle(name) {
            const base = name.replace(/\.[^.]+$/, '').replace(/[-_]+/g, ' ').trim();
            return base.charAt(0).toUpperCase() + base.slice(1);
        }

        function inferCategory(name) {
            const n = name.toLowerCase();
            if (n.includes('boda') || n.includes('casados')) return 'bodas';
            if (n.includes('retrato')) return 'retrato';
            if (n.includes('embarazada') || n.includes('bebe')) return 'familia';
            if (n.includes('producto')) return 'producto';
            if (n.includes('hamburguesa') || n.includes('pizza')) return 'gastronomia';
            if (n.includes('playa') || n.includes('monta')) return 'paisaje';
            if (n.includes('estructura')) return 'editorial';
            if (n.includes('ron') || n.includes('desodorante') || n.includes('cerveza')) return 'producto';
            return 'editorial';
        }

        const photoData = photoFilenames.map(file => ({
            src: `fotos/${file}`,
            title: filenameToTitle(file),
            category: inferCategory(file),
            story: customStories[file] || filenameToTitle(file)
        }));

        // Album (masonry) landing render
        const albumGrid = document.getElementById('albumGrid');
        function createAlbumItem(photo) {
            const wrap = document.createElement('div');
            wrap.className = 'group mb-4 break-inside-avoid cursor-pointer reveal';

            const frame = document.createElement('div');
            frame.className = 'relative overflow-hidden rounded-xl border border-neutral-200/70 dark:border-neutral-800 shadow-sm hover:shadow-xl transition-all duration-500';

            const img = document.createElement('img');
            img.src = photo.src;
            img.alt = photo.title;
            img.loading = 'lazy';
            img.decoding = 'async';
            img.className = 'w-full h-auto block transform transition-transform duration-500 group-hover:scale-[1.03]';
            img.onerror = () => { wrap.style.display = 'none'; };

            // Overlay degradado + título al hover
            const overlay = document.createElement('div');
            overlay.className = 'pointer-events-none absolute inset-0 bg-gradient-to-t from-black/50 via-black/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500';

            const caption = document.createElement('div');
            caption.className = 'pointer-events-none absolute bottom-2 left-2 right-2 text-white drop-shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-500';
            caption.innerHTML = `<div class="text-sm md:text-base font-medium">${photo.title}</div>`;

            frame.appendChild(img);
            frame.appendChild(overlay);
            frame.appendChild(caption);
            wrap.appendChild(frame);

            // Click abre modal
            wrap.addEventListener('click', () => openModal(photo.src, photo.title, photo.story));

            // Animación de entrada (usar IntersectionObserver existente)
            if (typeof observer !== 'undefined' && observer && typeof observer.observe === 'function') {
                observer.observe(wrap);
            } else {
                wrap.classList.add('active');
            }

            return wrap;
        }

        function renderAlbum() {
            if (!albumGrid) return;
            albumGrid.innerHTML = '';
            // Mostrar todas las fotos en el álbum inicial
            photoData.forEach(photo => {
                albumGrid.appendChild(createAlbumItem(photo));
            });
        }
        renderAlbum();

        function createPhotoCard(photo) {
            const card = document.createElement('div');
            card.className = 'group cursor-pointer reveal hover-lift';
            card.setAttribute('data-category', photo.category);
            
            card.innerHTML = `
                <div class="relative overflow-hidden rounded-2xl border border-neutral-200/70 dark:border-neutral-800 bg-white dark:bg-neutral-900 shadow-sm hover:shadow-xl transition-all duration-500">
                    <div class="relative overflow-hidden">
                      <img src="${photo.src}" 
                         alt="${photo.title}" 
                         class="w-full aspect-[4/5] object-cover transition-transform duration-500 group-hover:scale-[1.04]" 
                         loading="lazy" decoding="async"
                         onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                    </div>
                    <!-- Fallback si la imagen no carga -->
                    <div class="w-full aspect-[4/5] bg-neutral-200 dark:bg-neutral-800 flex items-center justify-center text-neutral-500 dark:text-neutral-400" style="display: none;">
                        <div class="text-center">
                            <svg class="w-12 h-12 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                            </svg>
                            <p class="text-sm">Imagen no disponible</p>
                        </div>
                    </div>
                    <!-- Pie de tarjeta -->
                    <div class="flex items-center justify-between px-4 py-3 border-t border-neutral-200/70 dark:border-neutral-800">
                      <h3 class="text-[15px] font-medium text-neutral-800 dark:text-neutral-100 truncate">${photo.title}</h3>
                      <span class="text-[11px] px-2 py-0.5 rounded-full bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300">${photo.category}</span>
                    </div>
                </div>
            `;
            
            card.addEventListener('click', () => {
                openModal(photo.src, photo.title, photo.story);
            });
            
            // Asegurar que los elementos dinámicos .reveal se activen (evita quedar invisibles)
            if (typeof observer !== 'undefined' && observer && typeof observer.observe === 'function') {
                observer.observe(card);
            } else {
                // Fallback por si no existe el observer: mostrar inmediatamente
                card.classList.add('active');
            }
            
            return card;
        }

        function renderGallery() {
            projectsGrid.innerHTML = '';
            const filteredPhotos = currentFilter === 'all' 
                ? photoData 
                : photoData.filter(photo => photo.category === currentFilter);
            
            filteredPhotos.forEach(photo => {
                projectsGrid.appendChild(createPhotoCard(photo));
            });
        }

        // Filter functionality
        filterButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                filterButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentFilter = btn.getAttribute('data-filter');
                renderGallery();
            });
        });

        // Initialize gallery (Portafolio section)
        renderGallery();

        // Navbar: siempre visible; agrega fondo al hacer scroll
        const mainNav = document.getElementById('mainNav');
        function updateNavBg() { /* navbar ya es clara por defecto; no alternar fondo */ }
        updateNavBg();
        window.addEventListener('scroll', updateNavBg);

        // Alternar tema oscuro
        const themeToggle = document.getElementById('themeToggle');
        if (themeToggle) {
            themeToggle.addEventListener('click', () => {
                const isDark = document.documentElement.classList.toggle('dark');
                try { localStorage.setItem('theme', isDark ? 'dark' : 'light'); } catch (e) {}
            });
            const storedTheme = localStorage.getItem('theme');
            if (storedTheme) {
                document.documentElement.classList.toggle('dark', storedTheme === 'dark');
            }
        }
    </script>
</body>
</html>